(this["webpackJsonpcalender-todo"]=this["webpackJsonpcalender-todo"]||[]).push([[0],{108:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){},111:function(e,a,t){},113:function(e,a,t){"use strict";t.r(a);var s=t(3),n=t.n(s),c=t(28),r=t.n(c),i=t(59),l=t(60),o=t(71),d=t(70),u=t(12),b=t(13),j=t(34);t(76),t(79);j.a.initializeApp({apiKey:"AIzaSyA9-907emHXJmKhtrX-ccHSaFqQQ1pGmKI",authDomain:"calender-todo-374ad.firebaseapp.com",databaseURL:"https://calender-todo-374ad-default-rtdb.firebaseio.com/",projectId:"calender-todo-374ad",storageBucket:"calender-todo-374ad.appspot.com",messagingSenderId:"369571814179",appId:"1:369571814179:web:b68645c23680bb71faca96",measurementId:"G-Q8CJ9ZF8WH"});new j.a.auth.GoogleAuthProvider,j.a.auth();var h=j.a,m=t(10),O=t.n(m),f=(t(35),t(24)),v=t(115),x=t(67),k=t(11),p=t(21),g=t(32),N=t(69),D=t(31),w=t(1);var S=function(e){var a=e.user;return Object(w.jsx)(N.a.Brand,{children:Object(w.jsxs)(u.b,{className:a?"fw-bold text-light navbar-brand-sidenav brand":"fw-bold text-dark brand",to:"/",children:[Object(w.jsx)(D.a,{className:"text-color"})," ","Calendar-todo"]})})};var y=function(e){var a=e.sidenav,t=e.showSidenav,s=e.className,n=Object(b.f)();return Object(w.jsx)(u.b,{to:"#",className:a?"menu-btn is-active ".concat(s):"menu-btn ".concat(s),onClick:function(e){return t(e,n)},children:Object(w.jsx)("div",{className:a?"menu-burger is-active ".concat(s):"menu-burger ".concat(s)})})};var C=function(e,a){var t=e.sidenav,n=e.showSidenav,c=e.user,r=e.logOutUser,i=e.howManyTasks,l=Object(b.f)(),o=Object(s.useState)(!1),d=Object(k.a)(o,2),j=d[0],h=d[1];return Object(s.useEffect)((function(){h(0!==i)}),[i]),Object(w.jsx)(N.a,{bg:"transparent",expand:"lg",className:c?"shadow-5-strong border-bottom-thin":"",children:Object(w.jsxs)(f.a,{fluid:!0,className:"nav",children:[!c&&Object(w.jsx)(S,{user:c}),c&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(y,{className:"navigation",sidenav:t,showSidenav:n})}),Object(w.jsxs)("div",{className:"nav-link",children:[!c&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.b,{className:"link text-secondary no-user",to:"/react-calendar/users/login",children:"Logga in"}),Object(w.jsx)(u.b,{className:"link text-secondary no-user",to:"/react-calendar/users/signup",children:"Skapa konto"})]}),c&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(u.b,{className:"link text-secondary nav-icon user",onClick:function(e){return r(e,l)},to:"/react-calendar",children:[Object(w.jsx)(g.b,{className:"icon-btn"}),Object(w.jsx)("div",{className:"info-bubble logout",children:"Logga ut"})]}),Object(w.jsxs)(u.b,{className:"link text-secondary nav-icon user",to:"#",children:[Object(w.jsx)(p.d,{className:"icon-btn"}),Object(w.jsx)("div",{className:"info-bubble notification",children:"Antal uppgifter kvar med deadline idag eller tidigare"}),Object(w.jsx)("div",{className:j?"notification-bubble text-white fw-bold is-active":"notification-bubble text-white fw-bold",children:i})]})]})]})]})})},I=t(22);var M=function(e){var a=e.user,t=Object(b.f)();return null!==a?t.push("/react-calendar/app/calendar"):t.push("/react-calendar/"),Object(w.jsx)(f.a,{children:Object(w.jsxs)("div",{className:"textbox startpage",children:[Object(w.jsx)("h1",{className:"fw-bold display-3",children:"Organisera livet med Calendar-todo"}),Object(w.jsx)("br",{}),Object(w.jsx)(I.a,{className:"fw-bold bg-color border-color",onClick:function(){return t.push("/react-calendar/users/signup")},children:"Kom ig\xe5ng"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("p",{children:["Har du redan ett konto?",Object(w.jsx)(u.b,{className:"text-color",to:"/react-calendar/users/login",children:" Logga in"})]})]})})},Y=t(48),T=t.n(Y),F=t(66);var L=function(e){for(var a=e.clone().startOf("month").startOf("week"),t=e.clone().endOf("month").endOf("week"),s=a.clone().subtract(1,"day"),n=[];s.isBefore(t,"day");)n.push(Array(7).fill(0).map((function(){return s.add(1,"day").clone()})));return n};function A(e,a){return function(e){return e.isSame(new Date,"day")}(e)?"today":function(e){return e.isBefore(new Date,"day")}(e)?"before":""}var E=function(e){var a=e.value,t=e.setValue;return Object(w.jsx)("div",{className:"calendar-header",children:Object(w.jsxs)("div",{className:"calendar-header-content fw-bold",children:[Object(w.jsx)("div",{className:"calendar-icon inline-block",onClick:function(){return t(a.clone().subtract(1,"month"))},children:Object(w.jsx)(p.a,{})}),Object(w.jsxs)("div",{className:"calendar-month inline-block",children:[a.format("MMMM")," ",a.format("YYYY")]}),Object(w.jsx)("div",{className:"calendar-icon inline-block",onClick:function(){return t(a.clone().add(1,"month"))},children:Object(w.jsx)(p.b,{})})]})})},B=t(116);var P=function(e){var a=e.day,t=e.value,n=e.addTask,c=Object(s.useState)(""),r=Object(k.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(""),d=Object(k.a)(o,2),u=d[0],b=d[1],j=Object(s.useState)(""),h=Object(k.a)(j,2),m=h[0],O=h[1],f=Object(s.useState)(!1),v=Object(k.a)(f,2),x=v[0],p=v[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(B.a,{className:"".concat(function(e,a){return function(e,a){return a.isSame(e,"day")}(e,a)?"selected":""}(a,t)," input-task"),onSubmit:function(e){return function(e){e.preventDefault(),n(i,u,m,x),l(""),b(""),O(""),p(!1)}(e)},children:[Object(w.jsx)(B.a.Control,{required:!0,className:"calendar-input",type:"text",placeholder:"L\xe4gg till uppgift..",id:"".concat(a.format("YYYY/MM/DD")),name:"".concat(a.format("DD MMM")),value:i,onChange:function(e){return function(e){e.preventDefault(),l(e.target.value),b(e.target.id),O(e.target.name),p(!1)}(e)}}),Object(w.jsx)(I.a,{type:"submit",hidden:!0,children:"+"})]})})},U=t(33);var q=function(e){var a=e.taskChecked,t=e.taskID,s=e.taskShortDate,n=e.taskName,c=e.userID;return Object(w.jsxs)("div",{className:a?"sidenav-task checked":"sidenav-task",children:[Object(w.jsx)("div",{className:a?"capitalize-first task-name inline-block checked":"capitalize-first task-name inline-block",children:n}),Object(w.jsx)(U.a,{onClick:function(e){return function(e,a,t){e.preventDefault();var s=h.database().ref("react-calendar/app/calendar/".concat(c,"/").concat(a,"/taskChecked"));(!1===t||!0===t)&&s.set(!t)}(e,t,a)},className:a?"task-icon checked check":"task-icon check"}),Object(w.jsx)(U.d,{onClick:function(e){return function(e,a){e.preventDefault(),h.database().ref("react-calendar/app/calendar/".concat(c,"/").concat(a)).remove()}(e,t)},className:"task-icon trash"}),Object(w.jsx)("div",{className:"task-date",children:s})]},t)};O.a.locale("sv");var H=O()().format("YYYYMMDD"),K=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return O()(e.taskDate).valueOf()-O()(a.taskDate).valueOf()})).map((function(e,t){return O()(e.taskDate).isBefore(H)?Object(w.jsx)(q,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},G=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return O()(e.taskDate).valueOf()-O()(a.taskDate).valueOf()})).map((function(e,t){return O()(e.taskDate).isSame(H)?Object(w.jsx)(q,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},z=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return O()(e.taskDate).valueOf()-O()(a.taskDate).valueOf()})).map((function(e,t){return O()(e.taskDate).isAfter(H)?Object(w.jsx)(q,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},J=function(e,a,t){if(void 0!==e){var s=e.sort((function(e,a){return O()(e.taskDate).valueOf()-O()(a.taskDate).valueOf()})).map((function(e,s){return O()(e.taskDate).isSame(t)?!0===e.taskChecked?Object(w.jsx)("div",{className:"calender-bubble-task",children:Object(w.jsx)(q,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},s)}):void 0:null}));return Object(w.jsx)(w.Fragment,{children:s})}},Q=function(e,a,t){if(void 0!==e){var s=e.sort((function(e,a){return O()(e.taskDate).valueOf()-O()(a.taskDate).valueOf()})).map((function(e,s){return O()(e.taskDate).isSame(t)?!1===e.taskChecked?Object(w.jsx)("div",{className:"calender-bubble-task",children:Object(w.jsx)(q,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},s)}):void 0:null}));return Object(w.jsx)(w.Fragment,{children:s})}};var W=function(e){var a=e.calendarBubble,t=e.showCalendarBubble,s=e.value,n=e.tasks,c=e.userID,r=s.format("YYYYMMDD");return Object(w.jsxs)("div",{className:a?"calendar-bubble is-active":"calendar-bubble",children:[Object(w.jsx)(y,{className:"calendar",sidenav:a,showSidenav:t}),Object(w.jsxs)("div",{className:"calendar-bubble-content",children:[Object(w.jsx)("h4",{className:"calendar-bubble-date border-bottom-thin",children:O()(r).format("DD MMM YYYY")}),Object(w.jsx)("p",{className:"fw-bold calendar-bubble-title",children:"F\xe4rdiga uppgifter f\xf6r dagen:"}),Object(w.jsx)("ul",{className:"calendar-bubble-tasks",children:J(n,c,r)}),Object(w.jsx)("br",{}),Object(w.jsx)("p",{className:"fw-bold calendar-bubble-title",children:"Kvarst\xe5ende uppgifter f\xf6r dagen:"}),Object(w.jsx)("ul",{className:"calendar-bubble-tasks",children:Q(n,c,r)})]}),Object(w.jsx)("div",{className:"calender-bubble-footer"})]})},R=t(68),V=t.n(R);var X=function(e){var a=e.addTask,t=e.tasks,n=e.userID;O.a.locale("sv");var c=Object(s.useState)([]),r=Object(k.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(O()()),d=Object(k.a)(o,2),u=d[0],b=d[1],j=Object(s.useState)([]),h=Object(k.a)(j,2),m=h[0],v=h[1],x=Object(s.useState)(!1),g=Object(k.a)(x,2),N=g[0],D=g[1],S=[],y=function(e){D(!N)};return Object(s.useEffect)((function(){function e(){return(e=Object(F.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V()("https://sholiday.faboul.se/dagar/v2.1/".concat(u.format("YYYY")));case 2:a=e.sent,v(a.data.dagar);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l(L(u)),function(){e.apply(this,arguments)}()}),[u]),Object(w.jsxs)(f.a,{fluid:!0,className:"calendar-container",children:[Object(w.jsx)(E,{value:u,setValue:b}),Object(w.jsx)("div",{className:"specifik-day",children:Object(w.jsx)(W,{userID:n,tasks:t,value:u,calendarBubble:N,showCalendarBubble:y})}),Object(w.jsxs)(f.a,{fluid:!0,children:[Object(w.jsx)("div",{className:"row calendar-weekday border-right-thin border-left-thin border-bottom-thin border-top-thin",children:["M\xe5n","Tis","Ons","Tors","Fre","L\xf6r","S\xf6n"].map((function(e,a){return Object(w.jsx)("div",{className:"col-sm weekday-day fw-bold",children:e},a)}))}),i.map((function(e,s){return Object(w.jsx)("div",{className:"row calendar-week border-left-bold border-bottom-bold",children:e.map((function(e){return Object(w.jsxs)("div",{id:"".concat(e.format("YYYY/MM/DD")),className:"".concat(A(e)," day col-sm calendar-day border-right-bold"),onClick:function(a){return b(e)},children:[Object(w.jsx)("div",{className:"calendar-menu ",children:Object(w.jsx)(p.c,{onClick:function(e){return y()}})}),Object(w.jsx)("div",{className:"date inline-block fw-bold",children:e.format("D").toString()}),m.map((function(a){return O()(a.datum).isSame(e)?Object(w.jsx)("div",{className:"date holiday ".concat(a["r\xf6d dag"]),children:a.helgdag},e):null})),Object(w.jsx)("div",{className:"calendar-tasks",children:t&&t.map((function(a){return O()(a.taskDate).isSame(e)?(S.push(a),Object(w.jsx)(q,{userID:n,taskChecked:a.taskChecked,taskName:a.taskName,taskID:a.taskID,taskShortDate:a.taskShortDate},a.taskID)):null}))}),Object(w.jsx)(P,{day:e,value:u,addTask:a})]},"".concat(e.format("YYYY/MM/DD")))}))},s)}))]})]})},Z=t(38),$=t(37),_=t(27),ee=t(25);var ae=function(e){var a=e.errorMessage;return Object(w.jsx)("div",{className:"col-12 alert alert-warning error-message",children:a})};var te=function(e){var a=e.handleSubmit,t=e.errorMessage,s=e.email,n=e.setEmail,c=e.password,r=e.setPassword;return Object(w.jsx)(f.a,{children:Object(w.jsxs)("form",{onSubmit:function(e){return a(e)},children:[Object(w.jsxs)(_.a,{children:[Object(w.jsxs)("div",{className:"form-box",children:[Object(w.jsx)(u.b,{className:"form-box-content is-active",to:"/react-calendar/users/login",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(D.b,{className:"form-icon"}),Object(w.jsx)("br",{}),"Logga in"]})}),Object(w.jsx)("div",{className:"form-box-content transparent"}),Object(w.jsx)(u.b,{className:"form-box-content",to:"/react-calendar/users/signup",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(g.a,{className:"form-icon"}),Object(w.jsx)("br",{}),"Skapa konto"]})})]}),Object(w.jsx)(ee.a,{required:!0,type:"text",id:"email",placeholder:"E-post",name:"email",value:s,onChange:function(e){return n(e.target.value)}}),Object(w.jsx)(ee.a,{required:!0,type:"text",id:"password",placeholder:"L\xf6senord",name:"password",value:c,onChange:function(e){return r(e.target.value)}}),null!==t?Object(w.jsx)(ae,{errorMessage:t}):null,Object(w.jsx)(I.a,{type:"submit",className:"fw-bold",children:"Logga in"}),Object(w.jsx)("p",{className:"form-or",children:Object(w.jsx)("span",{children:"eller"})}),Object(w.jsxs)(I.a,{className:"fw-bold facebook",children:[Object(w.jsx)($.a,{className:"btn-icon"})," ","Logga in med Facebook"]}),Object(w.jsxs)(I.a,{className:"fw-bold google",children:[Object(w.jsx)(Z.a,{className:"btn-cion"})," ","Logga in med Google"]})]}),Object(w.jsxs)("p",{children:["Har du inget konto \xe4n?",Object(w.jsx)(u.b,{to:"/react-calendar/users/signup",className:"text-color",children:" Skapa konto"})]})]})})};var se=function(){var e=Object(b.f)(),a=Object(s.useState)(""),t=Object(k.a)(a,2),n=t[0],c=t[1],r=Object(s.useState)(""),i=Object(k.a)(r,2),l=i[0],o=i[1],d=Object(s.useState)(null),u=Object(k.a)(d,2),j=u[0],m=u[1];return Object(w.jsx)(te,{email:n,setEmail:c,errorMessage:j,password:l,setPassword:o,handleSubmit:function(a){a.preventDefault();var t={email:n,password:l};h.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){e.push("/react-calendar/app/calendar")})).catch((function(e){"There is no user record corresponding to this identifier. The user may have been deleted."===e.message?m("Det finns ingen anv\xe4ndare med den angivna e-postadressen."):"The password is invalid or the user does not have a password."===e.message?m("L\xf6senordet \xe4r ogiligt."):m(null)}))}})};var ne=function(e){var a=e.handleSubmit,t=e.errorMessage,s=e.email,n=e.setEmail,c=e.passOne,r=e.setPassOne,i=e.passTwo,l=e.setPassTwo;return Object(w.jsx)(f.a,{children:Object(w.jsxs)("form",{onSubmit:function(e){return a(e)},children:[Object(w.jsxs)(_.a,{children:[Object(w.jsxs)("div",{className:"form-box",children:[Object(w.jsx)(u.b,{className:"form-box-content",to:"/react-calendar/users/login",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(D.b,{className:"form-icon"}),Object(w.jsx)("br",{}),"Logga in"]})}),Object(w.jsx)("div",{className:"form-box-content transparent"}),Object(w.jsx)(u.b,{className:"form-box-content is-active",to:"/react-calendar/users/signup",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(g.a,{className:"form-icon"}),Object(w.jsx)("br",{}),"Skapa konto"]})})]}),Object(w.jsxs)(I.a,{className:"fw-bold facebook",children:[Object(w.jsx)($.a,{className:"btn-icon"})," ","Forts\xe4tt med Facebook"]}),Object(w.jsxs)(I.a,{className:"fw-bold google",children:[Object(w.jsx)(Z.a,{className:"btn-cion"})," ","Forts\xe4tt med Google"]}),Object(w.jsx)("p",{className:"form-or",children:Object(w.jsx)("span",{children:"eller"})}),Object(w.jsx)(ee.a,{required:!0,type:"text",id:"email",placeholder:"E-post",name:"email",value:s,onChange:function(e){return n(e.target.value)}}),Object(w.jsx)(ee.a,{required:!0,type:"text",id:"passOne",placeholder:"L\xf6senord",name:"passOne",value:c,onChange:function(e){return r(e.target.value)}}),Object(w.jsx)(ee.a,{required:!0,type:"text",id:"passTwo",placeholder:"Upprepa l\xf6senord",name:"passTwo",value:i,onChange:function(e){return l(e.target.value)}}),null!==t?Object(w.jsx)(ae,{errorMessage:t}):null,Object(w.jsx)(I.a,{type:"submit",className:"fw-bold",children:"Registrera"})]}),Object(w.jsxs)("p",{children:["Har du redan ett konto?",Object(w.jsx)(u.b,{to:"/react-calendar/users/login",className:"text-color",children:" Logga in"})]})]})})};var ce=function(e){var a=e.registerUser,t=Object(b.f)(),n=Object(s.useState)(""),c=Object(k.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)(""),o=Object(k.a)(l,2),d=o[0],u=o[1],j=Object(s.useState)(""),m=Object(k.a)(j,2),O=m[0],f=m[1],v=Object(s.useState)(null),x=Object(k.a)(v,2),p=x[0],g=x[1];return Object(s.useEffect)((function(){d?d.length<6?g("L\xf6senordet b\xf6r inneh\xe5lla minst 6 tecken."):g(O&&d!==O?"L\xf6senorden matchar inte.":null):g(null)}),[d,O]),Object(w.jsx)(ne,{email:r,errorMessage:p,setEmail:i,passOne:d,setPassOne:u,passTwo:O,setPassTwo:f,handleSubmit:function(e){e.preventDefault();var s={email:r,password:d};h.auth().createUserWithEmailAndPassword(s.email,s.password).then((function(){console.log("anv\xe4ndare registrerad"),a(t)})).catch((function(e){"The email address is already in use by another account."===e.message?(console.log(e.message),g("E-postadressen anv\xe4nds redan av en annan anv\xe4ndare.")):g(null)}))}})};var re=function(e,a,t){void 0===a||t(!e)};var ie=function(e,a){var t=e.sidenav,n=e.tasks,c=e.userID,r=e.user,i=Object(s.useState)(!0),l=Object(k.a)(i,2),o=l[0],d=l[1];O.a.locale("sv");var u=O()().format("DD MMM");return Object(w.jsxs)("div",{className:t?"sidenav":"sidenav is-active",children:[Object(w.jsx)(N.a,{children:Object(w.jsx)(f.a,{fluid:!0,children:Object(w.jsx)(S,{user:r})})}),Object(w.jsxs)("ul",{className:"sidenav-alternatives",children:[Object(w.jsxs)("p",{className:"fw-bold",children:[Object(w.jsx)(U.b,{className:"sidenav-icon"})," Hem"]}),Object(w.jsxs)("p",{className:"fw-bold",children:[Object(w.jsx)(U.c,{className:"sidenav-icon"})," Inkorg"]})]}),Object(w.jsxs)("div",{className:"dropdown",children:[Object(w.jsx)("div",{className:"fw-bold dropdown-category",children:Object(w.jsxs)("div",{className:"nav-link-dropdown",onClick:function(){return re(o,n,d)},children:[Object(w.jsx)(p.d,{className:"sidenav-icon"}),Object(w.jsx)("p",{className:"inline-block",children:"Mina uppgifter"}),Object(w.jsx)(p.b,{className:o?"sidenav-icon arrow inline-block rotate":"arrow inline-block"})]})}),Object(w.jsx)("ul",{className:o?"dropdown-content hide":"dropdown-content",children:Object(w.jsxs)("div",{className:"list-group list-group-flush",children:[Object(w.jsxs)("div",{className:"sidenav-category previous",children:[Object(w.jsx)("div",{className:"sidenav-title border-bottom-thin fw-bold",children:"F\xf6rfallna"}),Object(w.jsx)("div",{className:"sidenav-tasks",children:K(n,c)})]}),Object(w.jsxs)("div",{className:"sidenav-category",children:[Object(w.jsxs)("div",{className:"sidenav-title border-bottom-thin border-color fw-bold today",children:[u," ","\u2022"," ","Idag"]}),Object(w.jsx)("div",{className:"sidenav-tasks",children:G(n,c)})]}),Object(w.jsxs)("div",{className:"sidenav-category",children:[Object(w.jsx)("div",{className:"sidenav-title border-bottom-thin fw-bold",children:"Kommande"}),Object(w.jsx)("div",{className:"sidenav-tasks",children:z(n,c)})]})]})})]})]})};var le=function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).state={user:null,userID:null,sidenav:!0,loading:!0,tasks:[],howManyTasks:0},e.showSidenav=function(){e.setState({sidenav:!e.state.sidenav})},e.addTask=function(a,t,s,n){null==e.state.user?console.log("No user found"):h.database().ref("react-calendar/app/calendar/".concat(e.state.userID)).push({taskName:a,taskDate:t,taskShortDate:s,taskChecked:n})},e.registerUser=function(a){h.auth().onAuthStateChanged((function(t){e.setState({user:t,userID:t.uid}),a.push("/react-calendar/app/calendar")}))},e.logOutUser=function(a,t){a.preventDefault(),e.setState({user:null,userID:null}),h.auth().signOut().then((function(){console.log("utloggad"),console.log(e.state.user),t.push("/react-calendar")}))},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e){return setTimeout((function(){return e()}),2500)})).then((function(){return e.setState({loading:!1})})),h.auth().onAuthStateChanged((function(a){a?(e.setState({user:a,userID:a.uid}),h.database().ref("react-calendar/app/calendar/"+a.uid).on("value",(function(a){var t=a.val(),s=[],n=[];for(var c in t){s.push({taskID:c,taskName:t[c].taskName,taskDate:t[c].taskDate,taskShortDate:t[c].taskShortDate,taskChecked:t[c].taskChecked});var r=O()().format("YYYYMMDD");(O()(t[c].taskDate).isBefore(r)||O()(t[c].taskDate).isSame(r))&&!1===t[c].taskChecked&&n.push({taskChecked:t[c].taskChecked})}e.setState({tasks:s,howManyTasks:n.length})}))):e.setState({user:null})}))}},{key:"render",value:function(){return this.state.loading?null:Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(u.a,{children:Object(w.jsx)(f.a,{fluid:!0,className:"body-container",children:Object(w.jsxs)(v.a,{children:[this.state.user&&Object(w.jsx)(x.a,{xs:"3",className:this.state.sidenav?"sidenav-wrap is-active border-right":"sidenav-wrap not-active",children:Object(w.jsx)(ie,{user:this.state.user,tasks:this.state.tasks,userID:this.state.userID,sidenav:this.state.sidenav})}),Object(w.jsxs)(x.a,{children:[Object(w.jsx)(C,{user:this.state.user,logOutUser:this.logOutUser,sidenav:this.state.sidenav,showSidenav:this.showSidenav,howManyTasks:this.state.howManyTasks}),Object(w.jsxs)(b.c,{children:[Object(w.jsx)(b.a,{exact:!0,path:"/react-calendar",children:Object(w.jsx)(M,{user:this.state.user})}),Object(w.jsx)(b.a,{path:"/react-calendar/app/calendar",children:Object(w.jsx)(X,{addTask:this.addTask,tasks:this.state.tasks,userID:this.state.userID})}),Object(w.jsx)(b.a,{path:"/react-calendar/users/login",children:Object(w.jsx)(se,{})}),Object(w.jsx)(b.a,{path:"/react-calendar/users/signup",children:Object(w.jsx)(ce,{registerUser:this.registerUser})})]})]})]})})})})}}]),t}(s.Component),oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,117)).then((function(a){var t=a.getCLS,s=a.getFID,n=a.getFCP,c=a.getLCP,r=a.getTTFB;t(e),s(e),n(e),c(e),r(e)}))};t(108),t(109),t(110),t(111),t(112);r.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(le,{})}),document.getElementById("root")),oe()}},[[113,1,2]]]);
//# sourceMappingURL=main.46975e5a.chunk.js.map